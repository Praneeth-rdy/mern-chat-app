(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},6:function(e,t,n){e.exports={mainBgContainer:"layout_mainBgContainer__1Csh8",navbar:"layout_navbar__Lnx1V",navbarNav:"layout_navbarNav__2lZBh",navItem:"layout_navItem__5Nz8n",bars:"layout_bars__2NUFX",footerBlock:"layout_footerBlock__3wm9x",footerLink:"layout_footerLink__1kvkh"}},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(30),s=n.n(c),o=(n(21),n(4)),i=n(2),l=n(16),j=n(31),u=n(0),b=["component"];var d=function(e){var t=e.component,n=Object(j.a)(e,b);return Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return localStorage.getItem("authToken")?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:"/login"})}}))},h=n(10),p=n.n(h),O=n(13),x=n(5),m=n(14),v=n.n(m);var f=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(x.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),i=Object(x.a)(o,2),l=i[0],j=i[1];return Object(a.useEffect)((function(){localStorage.getItem("authToken")||t.push("/login"),function(){var e=Object(O.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=1,e.next=4,v.a.get("/api/private",t);case 4:n=e.sent,a=n.data,j(a.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),localStorage.removeItem("authToken"),s("You are not authorized. Please Login");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),c?Object(u.jsx)("span",{children:c}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:["Hi",l]}),Object(u.jsx)("button",{onClick:function(){localStorage.removeItem("authToken"),t.push("/login")},children:"Logout"})]})};n(66);var g=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(x.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(x.a)(i,2),j=l[0],b=l[1],d=Object(a.useState)(""),h=Object(x.a)(d,2),m=h[0],f=h[1];Object(a.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var g=function(){var e=Object(O.a)(p.a.mark((function e(n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,v.a.post("/api/auth/login",{email:c,password:j},a);case 5:r=e.sent,s=r.data,localStorage.setItem("authToken",s.token),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),f(e.t0.response.data.error),setTimeout((function(){f("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:g,children:[Object(u.jsx)("h3",{children:"Login"}),m&&Object(u.jsx)("span",{children:m}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter Email",value:c,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter Password",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Login"}),Object(u.jsxs)("span",{children:["Not having an account? ",Object(u.jsx)(o.b,{to:"/register",children:"Register"})]})]})})};n(67);var k=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(x.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),l=Object(x.a)(i,2),j=l[0],b=l[1],d=Object(a.useState)(""),h=Object(x.a)(d,2),m=h[0],f=h[1],g=Object(a.useState)(""),k=Object(x.a)(g,2),w=k[0],y=k[1],S=Object(a.useState)(""),N=Object(x.a)(S,2),_=N[0],L=N[1];Object(a.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var E=function(){var e=Object(O.a)(p.a.mark((function e(n){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a={headers:{"Content-Type":"application/json"}},m===w){e.next=7;break}return f(""),y(""),setTimeout((function(){L("")}),5e3),e.abrupt("return",L("Passwords do not match"));case 7:return e.prev=7,e.next=10,v.a.post("/api/auth/register",{username:c,email:j,password:m},a);case 10:r=e.sent,s=r.data,localStorage.setItem("authToken",s.token),t.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),L(e.t0.response.data.error),setTimeout((function(){L("")}),5e3);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:E,children:[Object(u.jsx)("h3",{children:"Register"}),_&&Object(u.jsx)("span",{children:_}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(u.jsx)("input",{type:"text",id:"name",placeholder:"Enter Username",value:c,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter Email",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter Password",value:m,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),Object(u.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Enter Password Again",value:w,onChange:function(e){return y(e.target.value)},required:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Register"}),Object(u.jsxs)("span",{children:["Already have an account? ",Object(u.jsx)(o.b,{to:"/login",children:"Login"})]})]})})},w=n(33),y=n(6),S=n.n(y);var N=function(e){var t=e.children;return Object(u.jsxs)("div",{className:S.a.mainBgContainer,children:[Object(u.jsx)("header",{children:Object(u.jsxs)("nav",{className:S.a.navbar,children:[Object(u.jsx)(o.b,{to:"/",children:"textMe"}),Object(u.jsx)(w.a,{className:S.a.bars}),Object(u.jsxs)("ul",{className:S.a.navbarNav,children:[Object(u.jsx)("li",{className:S.a.navItem,children:Object(u.jsx)(o.b,{to:"/register",children:"Register"})}),Object(u.jsx)("li",{className:S.a.navItem,children:Object(u.jsx)(o.b,{to:"/login",children:"Login"})}),Object(u.jsx)("li",{className:S.a.navItem,children:Object(u.jsx)(o.b,{to:"/private",children:"Private"})})]})]})}),Object(u.jsx)("div",{children:t}),Object(u.jsxs)("footer",{children:[Object(u.jsxs)("div",{className:S.a.footerBlock,children:[Object(u.jsx)("h1",{children:"textMe"}),Object(u.jsx)("p",{children:"Best texting app ever"})]}),Object(u.jsxs)("div",{className:S.a.footerBlock,children:[Object(u.jsx)("h2",{children:"Quick Links"}),Object(u.jsx)(o.b,{to:"",className:S.a.footerLink,children:"Link-1"}),Object(u.jsx)(o.b,{to:"",className:S.a.footerLink,children:"Link-2"}),Object(u.jsx)(o.b,{to:"",className:S.a.footerLink,children:"Link-3"}),Object(u.jsx)(o.b,{to:"",className:S.a.footerLink,children:"Link-4"})]}),Object(u.jsxs)("div",{className:S.a.footerBlock,children:[Object(u.jsx)("p",{children:"Subscribe to Newsletter"}),Object(u.jsx)("input",{type:"text"})]})]})]})};n(68);var _=function(e){var t=e.history,n=Object(a.useState)(""),r=Object(x.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),i=Object(x.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(""),d=Object(x.a)(b,2),h=d[0],m=d[1];Object(a.useEffect)((function(){localStorage.getItem("authToken")&&t.push("/")}),[t]);var f=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,v.a.post("/api/auth/forgot-password",{email:c},n);case 5:a=e.sent,a.data,m("Email Sent"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),j(e.t0.response.data.error),setTimeout((function(){j("")}),5e3);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(N,{children:Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:f,children:[Object(u.jsx)("h3",{children:"Login"}),l&&Object(u.jsx)("span",{children:l}),h&&Object(u.jsx)("span",{children:h}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"email",id:"email",placeholder:"Enter Email",value:c,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(u.jsx)("button",{type:"submit",children:"Send Reset Link"})]})})})};var L=function(){return Object(u.jsx)("div",{})};var E=function(){return Object(u.jsx)(N,{children:"Hi"})};var T=function(){return Object(u.jsx)(o.a,{basename:"/mern-chat-app",children:Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{exact:!0,path:"/",component:E}),Object(u.jsx)(d,{exact:!0,path:"/private",component:f}),Object(u.jsx)(i.b,{exact:!0,path:"/login",component:g}),Object(u.jsx)(i.b,{exact:!0,path:"/register",component:k}),Object(u.jsx)(i.b,{exact:!0,path:"/forgot-password",component:_}),Object(u.jsx)(i.b,{exact:!0,path:"/reset-password/:resetToken",component:L})]})})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.ef933d4e.chunk.js.map